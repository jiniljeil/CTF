{% extends "base.j2" %}

{% block title %}Register{% endblock %}

{% block common_head %}
    {{ super() }}
{% endblock %}

{% block content %}
    {{ super() }}
    <section id="loginForm">
        <form method="POST">
            <div class="d-grid gap-3">
                <div>
                    <label for="inputUserId" class="form-label">User ID</label>
                    <input name="user_id" type="text" class="form-control form-control-sm" id="inputUserId"
                           placeholder="pattern: {{ config.get('USER_ID_PATTERN') }}"
                           autofocus>
                </div>
                <div>
                    <label for="inputUserDisplayName" class="form-label">Display name</label>
                    <input name="display_name" type="text" class="form-control form-control-sm" id="inputUserDisplayName"
                           placeholder="max length: {{ config.get('USER_DISPLAY_NAME_MAX_LENGTH') }}"
                           autofocus>
                </div>
                <div>
                    <label for="inputPassword" class="form-label">Password</label>
                    <input name="password" type="password" class="form-control form-control-sm" id="inputPassword"
                           placeholder="password">
                </div>
                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </div>
        </form>
    </section>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <section id="alertArea">
                {% for category, message in messages %}
                    <div class="mb-3 mt-3 alert alert-{{ category }}" role="alert">
                        <span>{{ message }}</span>
                    </div>
                {% endfor %}
            </section>
        {% endif %}
    {% endwith %}
{% endblock %}